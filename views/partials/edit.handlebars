<div class="create-promise">
  <h1 class="promise-statement">
    <span>{{promise.user.username}}</span> {{verbifyDomain}}
    <span>{{promise.what}}</span> by:
    <span>{{prettyDate promise.tdue}}</span>
  </h1>

  <form action="" method="post" accept-charset="UTF-8" class="edit-promise" id="edit_{{promise.id}}">
    <div class="form-group-wrapper">
      <label for="what">Title</label>
      <input name="what" type="text" value="{{promise.what}}">
    </div>

    <div class="form-group-wrapper">
      <label for="note">Details</label>
      <textarea name="note" type="text">{{promise.note}}</textarea>
    </div>

    <div class="form-group-wrapper">
      <label for="void">void</label>
      <select name="void">
        <option value="false">false</option>
        <option value="true" {{{selectedIfVoid promise}}}>true</option>
      </select>
    </div>

    <div class="form-group-wrapper">
      <label for="tini">Commitment made (tini)</label>
      {{> datepicker id='tini' value=promise.tini}}
    </div>

    <div class="form-group-wrapper">
      <label for="tdue">Commitment due (tdue)</label>
      {{> datepicker id='tdue' value=promise.tdue}}
    </div>

    <div class="form-group-wrapper">
      <label for="tfin">Commitment fulfilled (tfin)</label>
      {{> datepicker id='tfin' value=promise.tfin}}
    </div>

<!-- misleading to let people edit this until we support it
    <div class="form-group-wrapper">
      <label for="xfin">Fraction fulfilled</label>
      <input name="xfin" type="text" value="{{promise.xfin}}">
    </div>
-->
    <input type="hidden" name="id" value="{{promise.id}}">
    <input type="submit" class="promise-button" value="Save" onclick='editPromise()'>
  </form>
</div>

<div class="delete-promise">
  <a class="delete-promise-button" href="#" onclick='deletePromise("{{user.username}}", "{{promise.id}}")'>
    DELETE
  </a>
</div>
